<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Arka - Next Generation AI Diagram Designer.">
    <title>ARKA | The AI Diagram Generator</title>

    <!-- Google Fonts for Nothing OS Aesthetic -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Orbitron:wght@500;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="/static/css/style.css?v=1.1">
    <link rel="stylesheet" href="/static/css/about.css?v=1.1">

    <!-- Mermaid JS for landing page examples -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: false, theme: 'dark' });
    </script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WJZD6LFFNX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-WJZD6LFFNX');
    </script>
</head>

<body>
    <!-- Background Grid Environment -->
    <div class="bg-grid interactive-grid"></div>
    <div class="noise-overlay"></div>

    <!-- Navigation -->
    <nav class="lander-nav">
        <div class="logo-text">
            <h1>ARKA</h1>
        </div>
        <div class="nav-links">
            <a href="/login" class="nav-link">Log In</a>
            <a href="/signup" class="primary auth-btn-sm">Start Creating</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="lander-main">

        <!-- Hero Section -->
        <section class="hero-section">
            <h1 class="hero-title">
                <div class="line">FROM <span class="accent-text typing-effect">PROMPT</span></div>
                <div class="line">TO <span class="glitch-text" data-text="PERFECTION.">PERFECTION.</span></div>
            </h1>

            <p class="hero-subtitle">
                The ultimate brutalist AI diagramming tool.
                Describe your architecture, workflow, or logic in plain language,
                and watch the engine render precise, professional diagrams instantly.
            </p>

            <div class="hero-ctas">
                <a href="/signup" class="primary large-btn">
                    INITIALIZE ENGINE
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                        <polyline points="12 5 19 12 12 19"></polyline>
                    </svg>
                </a>
                <a href="/index" class="secondary large-btn">GUEST ACCESS</a>
            </div>
        </section>



        <!-- Interactive Showcase Section -->
        <section class="showcase-section">
            <div class="showcase-header">
                <h2 class="scroll-shift-text" data-text="SEE IT IN ACTION.">
                    <span class="word">
                        <span class="char active">S</span><span class="char active">E</span><span
                            class="char active">E</span>
                    </span>
                    <span class="word">
                        <span class="char active">I</span><span class="char active">T</span>
                    </span>
                    <span class="word">
                        <span class="char">I</span><span class="char">N</span>
                    </span>
                    <span class="word">
                        <span class="char">A</span><span class="char">C</span><span class="char">T</span><span
                            class="char">I</span><span class="char">O</span><span class="char">N</span><span
                            class="char">.</span>
                    </span>
                </h2>
            </div>

            <div class="showcase-container">
                <!-- Left: Prompt Generator -->
                <div class="showcase-left">
                    <div class="prompt-window">
                        <div class="prompt-header">
                            <span class="dot"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                            <span class="term-title">user_input.exe</span>
                        </div>
                        <div class="prompt-body">
                            <div class="prompt-line">
                                <span class="prompt-prefix">>_</span>
                                <span id="typewriter-text"></span><span class="cursor"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right: Rendered Outputs -->
                <div class="showcase-right">
                    <div class="diagram-window">
                        <div class="diagram-header">
                            <span class="term-title">output_render // <span id="render-type">processing...</span></span>
                        </div>
                        <div class="diagram-body" id="mermaid-container">
                            <!-- Mermaid SVG inserted here by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Staggered Features Section -->
        <section class="features-alt-section">
            <div class="feature-row">
                <div class="feature-num">01</div>
                <div class="feature-text">
                    <h3>INSTANT GENERATION</h3>
                    <p>ARKA translates complex explanations into beautifully structured
                        Logic components in under a second. Save hours of manual dragging and dropping.</p>
                </div>
            </div>

            <div class="feature-row reverse">
                <div class="feature-num">02</div>
                <div class="feature-text">
                    <h3>GLOBAL LANGUAGES</h3>
                    <p>Harness the power of AI in your native tongue. Whether you write your prompt in English, Hindi,
                        Spanish, or Japanese, the engine comprehends the context and generates perfect diagrams
                        indiscriminately.</p>
                </div>
            </div>

            <div class="feature-row">
                <div class="feature-num">03</div>
                <div class="feature-text">
                    <h3>14+ PRO DIAGRAMS</h3>
                    <p>From architectural maps and intricate network topologies, to simple daily pie charts, Gantt
                        trackers, and Git graphs. ARKA's versatility ensures you're equipped for any presentation.</p>
                </div>
            </div>

            <div class="feature-row reverse">
                <div class="feature-num">04</div>
                <div class="feature-text">
                    <h3>LIVE REFINEMENT</h3>
                    <p>Don't want to rewrite the entire prompt? Just hit it with a micro-command: <i>"Add an
                            authentication layer before the database."</i> The AI updates the node graph precisely where
                        requested.</p>
                </div>
            </div>

            <div class="feature-row">
                <div class="feature-num">05</div>
                <div class="feature-text">
                    <h3>POWERED BY SARVAM M</h3>
                    <p>At the core of ARKA lies Sarvam Mâ€”India's first foundational AI model. Specially fine-tuned for
                        structured logic, multilingual comprehension, and rapid code-generation capabilities required
                        for complex engineering tools.</p>
                </div>
            </div>
        </section>

        <!-- About Me Section -->
        <section class="about-me-section">
            <div class="about-me-card">
                <h2 class="about-me-title">Hey, Iâ€™m Dhruv Gautam. ðŸ‘‹</h2>
                <div class="about-me-body">
                    <p>Iâ€™m a first year Computer Science student who enjoys building small, practical tools while
                        learning. Arka started as an experiment to explore how far AI-assisted development workflows can
                        go.</p>
                    <p>To be transparent, this project was heavily AI-assisted. Instead of writing every line manually,
                        my focus here was understanding the system design, connecting the pieces, and turning an idea
                        into a working product.</p>
                    <p>Iâ€™m continuously working on strengthening my fundamentals while also exploring what modern
                        AI-powered development looks like.</p>
                    <p>If you try Arka and have feedback, Iâ€™d genuinely love to hear it.</p>
                </div>
            </div>
        </section>

        <!-- Support Section -->
        <section id="support" class="support-section">
            <h2 class="support-title scroll-shift-text" data-text="SUPPORT THE PROJECT.">
                <span class="word">
                    <span class="char active">S</span><span class="char active">U</span><span
                        class="char active">P</span><span class="char active">P</span><span
                        class="char active">O</span><span class="char active">R</span><span class="char active">T</span>
                </span>
                <span class="word">
                    <span class="char">T</span><span class="char">H</span><span class="char">E</span>
                </span>
                <span class="word">
                    <span class="char">P</span><span class="char">R</span><span class="char">O</span><span
                        class="char">J</span><span class="char">E</span><span class="char">C</span><span
                        class="char">T</span><span class="char">.</span>
                </span>
            </h2>
            <p class="support-subtitle">If you love what I built, consider buying me a coffee! â˜•</p>

            <div class="support-grid">
                <!-- Coffee Card -->
                <div class="support-card">
                    <h4>BUY ME A COFFEE</h4>
                    <div class="qr-box">
                        <img src="/images/coffee_qr-code.png" alt="Buy Me A Coffee QR">
                    </div>
                    <a href="https://buymeacoffee.com/dhruvgautam" target="_blank" class="support-btn">
                        buymeacoffee.com
                    </a>
                </div>
                <!-- UPI Card -->
                <div class="support-card">
                    <h4>GOOGLE PAY / UPI</h4>
                    <div class="qr-box">
                        <img src="/images/upi_qr_code.png" alt="UPI / GPay QR">
                    </div>
                    <div
                        style="font-family: var(--font-mono); color: var(--fg-muted); font-size: 0.85rem; padding: 10px;">
                        Scan with any UPI App
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="lander-footer">
            <div class="footer-grid">
                <div class="footer-brand">
                    <h2>ARKA</h2>
                    <p>The premium brutalist diagram generator.</p>
                </div>
                <div class="footer-links">
                    <a href="https://forms.gle/FA4qTch5rdXoaZvf6" target="_blank">Give Feedback</a>
                    <a href="/login">Login</a>
                    <a href="/signup">Register</a>
                    <a href="/index">Launch App</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 ARKA Systems. All rights reserved.</p>
            </div>
        </footer>

    </main>

    <!-- Showcase Animation Script -->
    <script>
        const examples = [
            {
                prompt: "Show a bar chart comparing latency between 4G, 5G, and WiFi for IoT devices...",
                type: "XY CHART",
                code: `xychart-beta
    title "IoT Connectivity Latency Comparison (ms)"
    x-axis ["4G LTE", "WiFi 6", "5G Sub-6", "5G mmWave"]
    y-axis "Latency (ms)" 0 --> 60
    bar [45, 15, 8, 2]`
            },
            {
                prompt: "Create a sequence diagram of a smart lock authenticating a user via a mobile app...",
                type: "SEQUENCE DIAGRAM",
                code: `sequenceDiagram
    actor U as User
    participant App as Mobile App
    participant Cloud as Auth Server
    participant Lock as Smart Lock

    U->>App: Taps 'Unlock'
    App->>Cloud: POST /auth (Token)
    Cloud-->>App: Challenge Request
    App->>Cloud: Signed Challenge Result
    
    rect rgb(20, 40, 60)
        Cloud->>Cloud: Verify Signature
    end
    
    Cloud->>Lock: MQTT Command (Unlock)
    Lock-->>Cloud: Ack (Status: Unlocked)
    Cloud-->>App: Webhook (Success)
    App-->>U: "Door Unlocked" visual feedback`
            },
            {
                prompt: "Show a quadrant chart analyzing cloud providers...",
                type: "QUADRANT CHART",
                code: `%%{init: {"quadrantChart": {"chartWidth": 400, "chartHeight": 250}}}%%
quadrantChart
    title Cloud Providers
    x-axis Low Cost --> High Cost
    y-axis Low Perf --> High Perf
    AWS: [0.7, 0.8]
    Azure: [0.6, 0.7]
    GCP: [0.65, 0.85]
    DigitalOcean: [0.3, 0.5]`
            }
        ];

        let currentExampleIdx = 0;
        const twText = document.getElementById('typewriter-text');
        const diagramContainer = document.getElementById('mermaid-container');
        const renderTypeLabel = document.getElementById('render-type');

        async function typeWriterEffect(text, speed = 50) {
            twText.innerHTML = '';
            for (let i = 0; i < text.length; i++) {
                twText.innerHTML += text.charAt(i);
                await new Promise(r => setTimeout(r, speed));
            }
        }

        async function eraseEffect(speed = 30) {
            let text = twText.innerHTML;
            while (text.length > 0) {
                text = text.substring(0, text.length - 1);
                twText.innerHTML = text;
                await new Promise(r => setTimeout(r, speed));
            }
        }

        async function renderMermaid(code) {
            diagramContainer.innerHTML = '';
            renderTypeLabel.innerText = "rendering...";

            // Generate a unique ID for mermaid to avoid DOM conflicts
            const id = 'mermaid-' + Date.now();

            try {
                const { svg } = await mermaid.render(id, code);
                diagramContainer.innerHTML = svg;

                // Add an animation class to the SVG to fade it in
                const svgElement = diagramContainer.querySelector('svg');
                if (svgElement) {
                    svgElement.style.animation = 'fadeIn 0.5s ease-out forwards';
                    svgElement.style.maxWidth = '100%';
                    svgElement.style.maxHeight = '230px';
                    svgElement.style.height = 'auto';
                }

                renderTypeLabel.innerText = examples[currentExampleIdx].type;
            } catch (err) {
                console.error("Mermaid sync error: ", err);
            }
        }

        async function runShowcaseLoop() {
            while (true) {
                const example = examples[currentExampleIdx];

                // Reset diagram side
                diagramContainer.innerHTML = '<div style="color: var(--fg-muted); font-family: var(--font-mono); opacity: 0.5; padding: 40px; text-align: center;">[ AWAITING INPUT ]</div>';
                renderTypeLabel.innerText = "idle";

                // 1. Type the prompt
                await typeWriterEffect(example.prompt, 40);

                // 2. Pause
                await new Promise(r => setTimeout(r, 600));

                // 3. Render diagram
                await renderMermaid(example.code);

                // 4. Wait to show it off
                await new Promise(r => setTimeout(r, 4500));

                // 5. Erase prompt
                await eraseEffect(20);

                // Next example
                currentExampleIdx = (currentExampleIdx + 1) % examples.length;
            }
        }

        // Scroll Animation Logic for Headers
        function initScrollShiftText() {
            const shiftHeaders = document.querySelectorAll('.scroll-shift-text');

            if (shiftHeaders.length === 0) return;

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Element is in view, attach scroll listener
                        window.addEventListener('scroll', handleScroll, { passive: true });
                    } else {
                        // Element is out of view
                        const chars = entry.target.querySelectorAll('.char');
                        chars.forEach(char => char.classList.remove('active'));
                        window.removeEventListener('scroll', handleScroll);
                    }
                });
            }, {
                threshold: 0.1, // Trigger when 10% visible
                rootMargin: "-10% 0px -10% 0px"
            });

            shiftHeaders.forEach(header => observer.observe(header));

            function handleScroll() {
                shiftHeaders.forEach(header => {
                    const rect = header.getBoundingClientRect();
                    const windowHeight = window.innerHeight;

                    // Only process visible elements
                    if (rect.top <= windowHeight && rect.bottom >= 0) {
                        const chars = header.querySelectorAll('.char');
                        if (chars.length === 0) return;

                        // Start animating slightly before center, finish near top
                        const startAnimY = windowHeight * 0.7; // Lower down the screen
                        const endAnimY = windowHeight * 0.2;   // Higher up the screen

                        // Calculate scroll progress (0 means start of animation, 1 means fully animated)
                        let progress = (startAnimY - rect.top) / (startAnimY - endAnimY);

                        // Clamp progress between 0 and 1
                        progress = Math.max(0, Math.min(1, progress));

                        // Calculate how many characters should be red based on progress
                        const charsToActivate = Math.floor(progress * chars.length);

                        chars.forEach((char, index) => {
                            if (index < charsToActivate) {
                                char.classList.add('active');
                            } else {
                                char.classList.remove('active');
                            }
                        });
                    }
                });
            }

            // Initial call to set state
            handleScroll();
        }

        // Start loops on load
        window.addEventListener('load', () => {
            runShowcaseLoop();
            initScrollShiftText();
        });
    </script>
</body>

</html>